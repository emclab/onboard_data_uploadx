<% if @view_in_config && @erb_code %>
  <%= render inline: @erb_code %>
  
<% else %>
<%= simple_form_for @user_access do |f| %>    
 
  <%= f.input :engine_id, :label => t('Engine Name'), :collection => @engines %> 
  <%= f.input :module_action_id, :label => t('Module Action'), :collection => OnboardDataUploadx.module_action_class.where(module_info_id: @engine.id),
              :label_method => lambda {|r| "##{r.id}, #{r.name},#{r.data_resource.name}"},
              :value_method => :id,  :include_blank => true if @engine %>
  <%= f.input :access_desp, :label => t('Access Desp'), :input_html => {:rows => 2} %> 
  <%= f.input :action, :label => t('Access Action') %> 
  <%= f.input :resource, :label => t('Resource') %>
  <%= f.input :sql_code, :label => t('SQL Code'), :input_html => {:rows => 4} %> 
  <%= f.input :masked_attrs, :label => t('Masked Attributes'), :input_html => {:rows => 2} %>   
  <%= f.input :brief_note, :label => t('Brief Note'), :input_html => {:rows => 2} %> 
  <%= f.input :rank, :label => t('Rank'), :placehoder => '1,2...' %>
  
  <%= link_to t('Back'), SUBURI + "/authentify/view_handler?index=0", :class => BUTTONS_CLS['action'] %>
  <%= f.button :submit, t('Save') , :class => BUTTONS_CLS['action'] %>  
<% end %> 

<% end %> 


