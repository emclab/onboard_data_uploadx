<div id="main_body">
<% if @view_in_config && @erb_code %>
<%= render inline: @erb_code %>
<% else %>

<h1><%=@title %></h1>
<p><%=t('Project')%>=<%=@project.name if @project %></p>
<%=t('# of records')%>=<%=OnboardDataUploadx::EngineConfig.where(:engine_id => @engine_ids_array).count if @engine_ids_array %>
<%= form_tag mass_onboard_result_engine_configs_path, :method => :put do %>
  <% releases = OnboardDataUploadx.project_misc_definition_class.where('definition_category = ? AND project_id = ?', 'release', @project.id).order('id DESC')%>
  <%= label_tag(:release, 'Release') %>
  <%= select_tag(:release_version, options_for_select(releases.select('id, name').map{|r| [r.name, r.id]})) %>
<table class="table table-striped">
  <tr>
  	 <th></th>
     <th><%= t('Engine Name') %></th>
     <th><%= t('Argument Desp') %></th>
     <th><%= t('Argument Name') %></th>
     <th><%= t('Argument Value') %></th>
  </tr>

<% @engine_ids_array.each do |rid| %>
  <% engine_configs = OnboardDataUploadx::EngineConfig.where(:engine_id => rid).order('argument_name, id') %> 
  <% engine_configs.each do |r| %>
    <tr>
      <td><%= check_box_tag 'ids[]', r.id %></td>
      <td><%= OnboardDataUploadx.engine_class.find_by_id(r.engine_id).name %></td>
      <td><%= r.argument_desp[0..60] if r.argument_desp %></td>
      <td><%= r.argument_name %></td>
      <td><%= r.argument_value[0..40] if r.argument_value %></td>                       
    </tr>
  <% end if engine_configs %>
<% end %>
   <table class="table table-striped">
	  <tr>
	    <th>
  		  <%= link_to t('Back'), SUBURI + "/view_handler?index=0", :class => BUTTONS_CLS['action'] %>
  		  <%= submit_tag t('Save') ,:name => "save[#{@project_id}]", :class => BUTTONS_CLS['action'] %>
  	    </th>
	  </tr>
	</table> 

<% end %>
<% end %>
</div>

